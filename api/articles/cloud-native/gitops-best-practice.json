{"title":"Gitops Best Practice","uid":"7d689785198fd8b3dd56655e8c46e576","slug":"cloud-native/gitops-best-practice","date":"2022-07-25T08:02:33.000Z","updated":"2022-08-16T08:21:58.283Z","comments":true,"path":"api/articles/cloud-native/gitops-best-practice.json","keywords":null,"cover":[],"content":"<h1 id=\"Gitops-Best-Practice\"><a href=\"#Gitops-Best-Practice\" class=\"headerlink\" title=\"Gitops Best Practice\"></a>Gitops Best Practice</h1><h2 id=\"Pre-requisuites\"><a href=\"#Pre-requisuites\" class=\"headerlink\" title=\"Pre-requisuites\"></a>Pre-requisuites</h2><ul>\n<li>a kubernetes cluster</li>\n</ul>\n<h2 id=\"Optional\"><a href=\"#Optional\" class=\"headerlink\" title=\"Optional\"></a>Optional</h2><ul>\n<li>rancher 集群管理界面</li>\n<li>kubevious 集群管理界面</li>\n</ul>\n<h2 id=\"Requirements\"><a href=\"#Requirements\" class=\"headerlink\" title=\"Requirements\"></a>Requirements</h2><ul>\n<li>gitlab 仓库</li>\n<li>harbor 镜像仓库</li>\n<li>tekton 流水线</li>\n<li>argo rollout 渐进式</li>\n<li>istio 网关</li>\n</ul>\n<h2 id=\"Rancher-不推荐，容易崩溃，界面老旧\"><a href=\"#Rancher-不推荐，容易崩溃，界面老旧\" class=\"headerlink\" title=\"Rancher (不推荐，容易崩溃，界面老旧)\"></a>Rancher (不推荐，容易崩溃，界面老旧)</h2><p>可视化集群管理界面</p>\n<h3 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">helm repo add rancher-latest https:&#x2F;&#x2F;releases.rancher.com&#x2F;server-charts&#x2F;latest\n\nkubectl create namespace cattle-system\n\nkubectl apply -f https:&#x2F;&#x2F;github.com&#x2F;cert-manager&#x2F;cert-manager&#x2F;releases&#x2F;download&#x2F;v1.7.2&#x2F;cert-manager.crds.yaml\n\nhelm repo add jetstack https:&#x2F;&#x2F;charts.jetstack.io\n\nhelm repo update\n\nhelm install cert-manager jetstack&#x2F;cert-manager \\\n  --namespace cert-manager \\\n  --create-namespace \\\n  --version v1.7.1\n\nhelm install rancher rancher-latest&#x2F;rancher \\\n  --namespace cattle-system \\\n  --set hostname&#x3D;rancher.sslip.io \\\n  --set replicas&#x3D;1 \\\n  --set bootstrapPassword&#x3D;password</code></pre>\n\n<p>将<code>rancher.sslip.io</code>注册进dns中，打开浏览器进行访问.</p>\n<p><img src=\"gitops-best-practice/rancher-home.png\" alt=\"rancher home\"></p>\n<h2 id=\"Gitlab\"><a href=\"#Gitlab\" class=\"headerlink\" title=\"Gitlab\"></a>Gitlab</h2><p>可自托管git版本控制系统</p>\n<h3 id=\"Installation-1\"><a href=\"#Installation-1\" class=\"headerlink\" title=\"Installation\"></a>Installation</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">helm repo add gitlab https:&#x2F;&#x2F;charts.gitlab.io&#x2F;\nhelm install -n gitlab --create-namespace gitlab gitlab&#x2F;gitlab --set certmanager.email&#x3D;email@example.com</code></pre>\n\n<h3 id=\"Root-Inital-Secret\"><a href=\"#Root-Inital-Secret\" class=\"headerlink\" title=\"Root Inital Secret\"></a>Root Inital Secret</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">kubectl get -n gitlab secret  </code></pre>","text":"Gitops Best PracticePre-requisuites a kubernetes cluster Optional rancher 集群管理界面 kubevious 集群管理界面 Requirements gitlab 仓库 harbor 镜像仓库 tekton ...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"cloud-native","slug":"cloud-native","count":7,"path":"api/categories/cloud-native.json"}],"tags":[{"name":"Kuberetes","slug":"Kuberetes","count":2,"path":"api/tags/Kuberetes.json"},{"name":"CloudNative","slug":"CloudNative","count":5,"path":"api/tags/CloudNative.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Gitops-Best-Practice\"><span class=\"toc-text\">Gitops Best Practice</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Pre-requisuites\"><span class=\"toc-text\">Pre-requisuites</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Optional\"><span class=\"toc-text\">Optional</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Requirements\"><span class=\"toc-text\">Requirements</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Rancher-%E4%B8%8D%E6%8E%A8%E8%8D%90%EF%BC%8C%E5%AE%B9%E6%98%93%E5%B4%A9%E6%BA%83%EF%BC%8C%E7%95%8C%E9%9D%A2%E8%80%81%E6%97%A7\"><span class=\"toc-text\">Rancher (不推荐，容易崩溃，界面老旧)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Installation\"><span class=\"toc-text\">Installation</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Gitlab\"><span class=\"toc-text\">Gitlab</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Installation-1\"><span class=\"toc-text\">Installation</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Root-Inital-Secret\"><span class=\"toc-text\">Root Inital Secret</span></a></li></ol></li></ol></li></ol>","author":{"name":"Stephen Ling","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Think twice, code once!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Computer Graphics CMU 15-462/662 lecture 01","uid":"981bde0bdc29624ee6b4b6ebc6cc7ab4","slug":"computer-graphics/cmu-courses/01","date":"2022-07-26T13:13:09.000Z","updated":"2022-08-16T08:21:58.286Z","comments":true,"path":"api/articles/computer-graphics/cmu-courses/01.json","keywords":null,"cover":null,"text":"Lecture 01 video: Lecture 01 Names of cg journeySIGGRAPH Objectives of this course To figure out what cg is Implement 1st algorithm to make ...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"computer-graphics","slug":"computer-graphics","count":2,"path":"api/categories/computer-graphics.json"},{"name":"cmu-courses","slug":"computer-graphics/cmu-courses","count":1,"path":"api/categories/computer-graphics/cmu-courses.json"}],"tags":[{"name":"ComputerGraphics","slug":"ComputerGraphics","count":5,"path":"api/tags/ComputerGraphics.json"}],"author":{"name":"Stephen Ling","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Think twice, code once!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Gitops - ArgoCD vs FluxCD","uid":"a65dcaaafc431efe347de1d9e1ae0f86","slug":"cloud-native/fluxcd","date":"2022-07-25T02:57:03.000Z","updated":"2022-08-16T08:21:58.283Z","comments":true,"path":"api/articles/cloud-native/fluxcd.json","keywords":null,"cover":null,"text":"ArgoCD vs FluxCD比较ArgoCD和FluxCD之前，我们应该先了解一下Gitops Gitops的基础思想是，将环境放入版本控制系统并通过一个自动流程确保我们的代码运行在代码仓库中描述的状态。 ArgoCD FluxCD 声明式CD工具，可弹性扩展，自带安全管理，...","link":"","photos":[],"count_time":{"symbolsCount":639,"symbolsTime":"1 mins."},"categories":[{"name":"cloud-native","slug":"cloud-native","count":7,"path":"api/categories/cloud-native.json"}],"tags":[{"name":"Kuberetes","slug":"Kuberetes","count":2,"path":"api/tags/Kuberetes.json"},{"name":"CICD","slug":"CICD","count":1,"path":"api/tags/CICD.json"}],"author":{"name":"Stephen Ling","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Think twice, code once!","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}